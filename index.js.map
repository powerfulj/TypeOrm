{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/*!\r\n */\r\nimport \"reflect-metadata\";\r\nimport {ConnectionManager} from \"./connection/ConnectionManager\";\r\nimport {Connection} from \"./connection/Connection\";\r\nimport {MetadataArgsStorage} from \"./metadata-args/MetadataArgsStorage\";\r\nimport {ConnectionOptions} from \"./connection/ConnectionOptions\";\r\nimport {getFromContainer} from \"./container\";\r\nimport {ObjectType} from \"./common/ObjectType\";\r\nimport {Repository} from \"./repository/Repository\";\r\nimport {EntityManager} from \"./entity-manager/EntityManager\";\r\nimport {PlatformTools} from \"./platform/PlatformTools\";\r\nimport {TreeRepository} from \"./repository/TreeRepository\";\r\nimport {MongoRepository} from \"./repository/MongoRepository\";\r\nimport {ConnectionOptionsReader} from \"./connection/ConnectionOptionsReader\";\r\nimport {PromiseUtils} from \"./util/PromiseUtils\";\r\nimport {MongoEntityManager} from \"./entity-manager/MongoEntityManager\";\r\nimport {SqljsEntityManager} from \"./entity-manager/SqljsEntityManager\";\r\nimport {SelectQueryBuilder} from \"./query-builder/SelectQueryBuilder\";\r\nimport {EntitySchema} from \"./entity-schema/EntitySchema\";\r\n\r\n// -------------------------------------------------------------------------\r\n// Commonly Used exports\r\n// -------------------------------------------------------------------------\r\n\r\nexport * from \"./container\";\r\nexport * from \"./common/ObjectType\";\r\nexport * from \"./common/ObjectLiteral\";\r\nexport * from \"./common/DeepPartial\";\r\nexport * from \"./error/QueryFailedError\";\r\nexport * from \"./decorator/columns/Column\";\r\nexport * from \"./decorator/columns/CreateDateColumn\";\r\nexport * from \"./decorator/columns/PrimaryGeneratedColumn\";\r\nexport * from \"./decorator/columns/PrimaryColumn\";\r\nexport * from \"./decorator/columns/UpdateDateColumn\";\r\nexport * from \"./decorator/columns/VersionColumn\";\r\nexport * from \"./decorator/columns/ViewColumn\";\r\nexport * from \"./decorator/columns/ObjectIdColumn\";\r\nexport * from \"./decorator/listeners/AfterInsert\";\r\nexport * from \"./decorator/listeners/AfterLoad\";\r\nexport * from \"./decorator/listeners/AfterRemove\";\r\nexport * from \"./decorator/listeners/AfterUpdate\";\r\nexport * from \"./decorator/listeners/BeforeInsert\";\r\nexport * from \"./decorator/listeners/BeforeRemove\";\r\nexport * from \"./decorator/listeners/BeforeUpdate\";\r\nexport * from \"./decorator/listeners/EventSubscriber\";\r\nexport * from \"./decorator/options/ColumnOptions\";\r\nexport * from \"./decorator/options/IndexOptions\";\r\nexport * from \"./decorator/options/JoinColumnOptions\";\r\nexport * from \"./decorator/options/JoinTableOptions\";\r\nexport * from \"./decorator/options/RelationOptions\";\r\nexport * from \"./decorator/options/EntityOptions\";\r\nexport * from \"./decorator/options/ValueTransformer\";\r\nexport * from \"./decorator/relations/JoinColumn\";\r\nexport * from \"./decorator/relations/JoinTable\";\r\nexport * from \"./decorator/relations/ManyToMany\";\r\nexport * from \"./decorator/relations/ManyToOne\";\r\nexport * from \"./decorator/relations/OneToMany\";\r\nexport * from \"./decorator/relations/OneToOne\";\r\nexport * from \"./decorator/relations/RelationCount\";\r\nexport * from \"./decorator/relations/RelationId\";\r\nexport * from \"./decorator/entity/Entity\";\r\nexport * from \"./decorator/entity/ChildEntity\";\r\nexport * from \"./decorator/entity/TableInheritance\";\r\nexport * from \"./decorator/entity-view/ViewEntity\";\r\nexport * from \"./decorator/transaction/Transaction\";\r\nexport * from \"./decorator/transaction/TransactionManager\";\r\nexport * from \"./decorator/transaction/TransactionRepository\";\r\nexport * from \"./decorator/tree/TreeLevelColumn\";\r\nexport * from \"./decorator/tree/TreeParent\";\r\nexport * from \"./decorator/tree/TreeChildren\";\r\nexport * from \"./decorator/tree/Tree\";\r\nexport * from \"./decorator/Index\";\r\nexport * from \"./decorator/Unique\";\r\nexport * from \"./decorator/Check\";\r\nexport * from \"./decorator/Exclusion\";\r\nexport * from \"./decorator/Generated\";\r\nexport * from \"./decorator/EntityRepository\";\r\nexport * from \"./find-options/operator/Any\";\r\nexport * from \"./find-options/operator/Between\";\r\nexport * from \"./find-options/operator/Equal\";\r\nexport * from \"./find-options/operator/In\";\r\nexport * from \"./find-options/operator/IsNull\";\r\nexport * from \"./find-options/operator/LessThan\";\r\nexport * from \"./find-options/operator/LessThanOrEqual\";\r\nexport * from \"./find-options/operator/Like\";\r\nexport * from \"./find-options/operator/MoreThan\";\r\nexport * from \"./find-options/operator/MoreThanOrEqual\";\r\nexport * from \"./find-options/operator/Not\";\r\nexport * from \"./find-options/operator/Raw\";\r\nexport * from \"./find-options/FindConditions\";\r\nexport * from \"./find-options/FindManyOptions\";\r\nexport * from \"./find-options/FindOneOptions\";\r\nexport * from \"./find-options/FindOperator\";\r\nexport * from \"./find-options/FindOperatorType\";\r\nexport * from \"./find-options/JoinOptions\";\r\nexport * from \"./find-options/OrderByCondition\";\r\nexport * from \"./logger/Logger\";\r\nexport * from \"./logger/AdvancedConsoleLogger\";\r\nexport * from \"./logger/SimpleConsoleLogger\";\r\nexport * from \"./logger/FileLogger\";\r\nexport * from \"./metadata/EntityMetadata\";\r\nexport * from \"./entity-manager/EntityManager\";\r\nexport * from \"./repository/AbstractRepository\";\r\nexport * from \"./repository/Repository\";\r\nexport * from \"./repository/BaseEntity\";\r\nexport * from \"./repository/TreeRepository\";\r\nexport * from \"./repository/MongoRepository\";\r\nexport * from \"./repository/RemoveOptions\";\r\nexport * from \"./repository/SaveOptions\";\r\nexport * from \"./schema-builder/table/TableColumn\";\r\nexport * from \"./schema-builder/table/TableForeignKey\";\r\nexport * from \"./schema-builder/table/TableIndex\";\r\nexport * from \"./schema-builder/table/Table\";\r\nexport * from \"./driver/mongodb/typings\";\r\nexport * from \"./driver/types/DatabaseType\";\r\nexport * from \"./driver/sqlserver/MssqlParameter\";\r\n\r\nexport {ConnectionOptionsReader} from \"./connection/ConnectionOptionsReader\";\r\nexport {Connection} from \"./connection/Connection\";\r\nexport {ConnectionManager} from \"./connection/ConnectionManager\";\r\nexport {ConnectionOptions} from \"./connection/ConnectionOptions\";\r\nexport {Driver} from \"./driver/Driver\";\r\nexport {QueryBuilder} from \"./query-builder/QueryBuilder\";\r\nexport {SelectQueryBuilder} from \"./query-builder/SelectQueryBuilder\";\r\nexport {DeleteQueryBuilder} from \"./query-builder/DeleteQueryBuilder\";\r\nexport {InsertQueryBuilder} from \"./query-builder/InsertQueryBuilder\";\r\nexport {UpdateQueryBuilder} from \"./query-builder/UpdateQueryBuilder\";\r\nexport {RelationQueryBuilder} from \"./query-builder/RelationQueryBuilder\";\r\nexport {Brackets} from \"./query-builder/Brackets\";\r\nexport {WhereExpression} from \"./query-builder/WhereExpression\";\r\nexport {InsertResult} from \"./query-builder/result/InsertResult\";\r\nexport {UpdateResult} from \"./query-builder/result/UpdateResult\";\r\nexport {DeleteResult} from \"./query-builder/result/DeleteResult\";\r\nexport {QueryRunner} from \"./query-runner/QueryRunner\";\r\nexport {EntityManager} from \"./entity-manager/EntityManager\";\r\nexport {MongoEntityManager} from \"./entity-manager/MongoEntityManager\";\r\nexport {MigrationInterface} from \"./migration/MigrationInterface\";\r\nexport {DefaultNamingStrategy} from \"./naming-strategy/DefaultNamingStrategy\";\r\nexport {NamingStrategyInterface} from \"./naming-strategy/NamingStrategyInterface\";\r\nexport {Repository} from \"./repository/Repository\";\r\nexport {TreeRepository} from \"./repository/TreeRepository\";\r\nexport {MongoRepository} from \"./repository/MongoRepository\";\r\nexport {FindOneOptions} from \"./find-options/FindOneOptions\";\r\nexport {FindManyOptions} from \"./find-options/FindManyOptions\";\r\nexport {InsertEvent} from \"./subscriber/event/InsertEvent\";\r\nexport {UpdateEvent} from \"./subscriber/event/UpdateEvent\";\r\nexport {RemoveEvent} from \"./subscriber/event/RemoveEvent\";\r\nexport {EntitySubscriberInterface} from \"./subscriber/EntitySubscriberInterface\";\r\nexport {BaseEntity} from \"./repository/BaseEntity\";\r\nexport {EntitySchema} from \"./entity-schema/EntitySchema\";\r\nexport {EntitySchemaColumnOptions} from \"./entity-schema/EntitySchemaColumnOptions\";\r\nexport {EntitySchemaIndexOptions} from \"./entity-schema/EntitySchemaIndexOptions\";\r\nexport {EntitySchemaRelationOptions} from \"./entity-schema/EntitySchemaRelationOptions\";\r\nexport {ColumnType} from \"./driver/types/ColumnTypes\";\r\nexport {PromiseUtils} from \"./util/PromiseUtils\";\r\n\r\n// -------------------------------------------------------------------------\r\n// Deprecated\r\n// -------------------------------------------------------------------------\r\n\r\n// -------------------------------------------------------------------------\r\n// Commonly used functionality\r\n// -------------------------------------------------------------------------\r\n\r\n/**\r\n * Gets metadata args storage.\r\n */\r\nexport function getMetadataArgsStorage(): MetadataArgsStorage {\r\n    // we should store metadata storage in a global variable otherwise it brings too much problems\r\n    // one of the problem is that if any entity (or any other) will be imported before consumer will call\r\n    // useContainer method with his own container implementation, that entity will be registered in the\r\n    // old old container (default one post probably) and consumer will his entity.\r\n    // calling useContainer before he imports any entity (or any other) is not always convenient.\r\n    // another reason is that when we run migrations typeorm is being called from a global package\r\n    // and it may load entities which register decorators in typeorm of local package\r\n    // this leads to impossibility of usage of entities in migrations and cli related operations\r\n    const globalScope = PlatformTools.getGlobalVariable();\r\n    if (!globalScope.typeormMetadataArgsStorage)\r\n        globalScope.typeormMetadataArgsStorage = new MetadataArgsStorage();\r\n\r\n    return globalScope.typeormMetadataArgsStorage;\r\n}\r\n\r\n/**\r\n * Reads connection options stored in ormconfig configuration file.\r\n */\r\nexport async function getConnectionOptions(connectionName: string = \"default\"): Promise<ConnectionOptions> {\r\n    return new ConnectionOptionsReader().get(connectionName);\r\n}\r\n\r\n/**\r\n * Gets a ConnectionManager which creates connections.\r\n */\r\nexport function getConnectionManager(): ConnectionManager {\r\n    return getFromContainer(ConnectionManager);\r\n}\r\n\r\n/**\r\n * Creates a new connection and registers it in the manager.\r\n * Only one connection from ormconfig will be created (name \"default\" or connection without name).\r\n */\r\nexport async function createConnection(): Promise<Connection>;\r\n\r\n/**\r\n * Creates a new connection from the ormconfig file with a given name.\r\n */\r\nexport async function createConnection(name: string): Promise<Connection>;\r\n\r\n/**\r\n * Creates a new connection and registers it in the manager.\r\n */\r\nexport async function createConnection(options: ConnectionOptions): Promise<Connection>;\r\n\r\n/**\r\n * Creates a new connection and registers it in the manager.\r\n *\r\n * If connection options were not specified, then it will try to create connection automatically,\r\n * based on content of ormconfig (json/js/yml/xml/env) file or environment variables.\r\n * Only one connection from ormconfig will be created (name \"default\" or connection without name).\r\n */\r\nexport async function createConnection(optionsOrName?: any): Promise<Connection> {\r\n    const connectionName = typeof optionsOrName === \"string\" ? optionsOrName : \"default\";\r\n    const options = optionsOrName instanceof Object ? optionsOrName : await getConnectionOptions(connectionName);\r\n    return getConnectionManager().create(options).connect();\r\n}\r\n\r\n/**\r\n * Creates new connections and registers them in the manager.\r\n *\r\n * If connection options were not specified, then it will try to create connection automatically,\r\n * based on content of ormconfig (json/js/yml/xml/env) file or environment variables.\r\n * All connections from the ormconfig will be created.\r\n */\r\nexport async function createConnections(options?: ConnectionOptions[]): Promise<Connection[]> {\r\n    if (!options)\r\n        options = await new ConnectionOptionsReader().all();\r\n    const connections = options.map(options => getConnectionManager().create(options));\r\n    return PromiseUtils.runInSequence(connections, connection => connection.connect());\r\n}\r\n\r\n/**\r\n * Gets connection from the connection manager.\r\n * If connection name wasn't specified, then \"default\" connection will be retrieved.\r\n */\r\nexport function getConnection(connectionName: string = \"default\"): Connection {\r\n    return getConnectionManager().get(connectionName);\r\n}\r\n\r\n/**\r\n * Gets entity manager from the connection.\r\n * If connection name wasn't specified, then \"default\" connection will be retrieved.\r\n */\r\nexport function getManager(connectionName: string = \"default\"): EntityManager {\r\n    return getConnectionManager().get(connectionName).manager;\r\n}\r\n\r\n/**\r\n * Gets MongoDB entity manager from the connection.\r\n * If connection name wasn't specified, then \"default\" connection will be retrieved.\r\n */\r\nexport function getMongoManager(connectionName: string = \"default\"): MongoEntityManager {\r\n    return getConnectionManager().get(connectionName).manager as MongoEntityManager;\r\n}\r\n\r\n/**\r\n * Gets Sqljs entity manager from connection name.\r\n * \"default\" connection is used, when no name is specified.\r\n * Only works when Sqljs driver is used.\r\n */\r\nexport function getSqljsManager(connectionName: string = \"default\"): SqljsEntityManager {\r\n    return getConnectionManager().get(connectionName).manager as SqljsEntityManager;\r\n}\r\n\r\n/**\r\n * Gets repository for the given entity class.\r\n */\r\nexport function getRepository<Entity>(entityClass: ObjectType<Entity>|EntitySchema<Entity>|string, connectionName: string = \"default\"): Repository<Entity> {\r\n    return getConnectionManager().get(connectionName).getRepository<Entity>(entityClass);\r\n}\r\n\r\n/**\r\n * Gets tree repository for the given entity class.\r\n */\r\nexport function getTreeRepository<Entity>(entityClass: ObjectType<Entity>|string, connectionName: string = \"default\"): TreeRepository<Entity> {\r\n    return getConnectionManager().get(connectionName).getTreeRepository<Entity>(entityClass);\r\n}\r\n\r\n/**\r\n * Gets tree repository for the given entity class.\r\n */\r\nexport function getCustomRepository<T>(customRepository: ObjectType<T>, connectionName: string = \"default\"): T {\r\n    return getConnectionManager().get(connectionName).getCustomRepository(customRepository);\r\n}\r\n\r\n/**\r\n * Gets mongodb repository for the given entity class or name.\r\n */\r\nexport function getMongoRepository<Entity>(entityClass: ObjectType<Entity>|string, connectionName: string = \"default\"): MongoRepository<Entity> {\r\n    return getConnectionManager().get(connectionName).getMongoRepository<Entity>(entityClass);\r\n}\r\n\r\n/**\r\n * Creates a new query builder.\r\n */\r\nexport function createQueryBuilder<Entity>(entityClass?: ObjectType<Entity>|string, alias?: string, connectionName: string = \"default\"): SelectQueryBuilder<Entity> {\r\n    if (entityClass) {\r\n        return getRepository(entityClass, connectionName).createQueryBuilder(alias);\r\n    }\r\n\r\n    return getConnection(connectionName).createQueryBuilder();\r\n}\r\n"],"sourceRoot":"."}